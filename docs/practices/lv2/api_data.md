# API・データモデルの先行生成

`mock.html` でフロントエンドの挙動が確定したら、そこから逆算してサーバーサイドの仕様（API、データベース）をAIに定義させるフローについて解説します。

## 概要

画面（UI）が決まれば、そこに必要なデータ（Data）と通信（API）も自然と決まります。
人間がゼロからAPI設計をするのではなく、確定したMockをAIに読ませることで、UIに最適化されたバックエンド仕様を高速に生成します。

## 生成フロー

### 1. ER図・データ構造の抽出
`mock.html` に表示されている項目（ユーザー名、商品一覧、価格など）をAIに解析させ、必要なデータエンティティを抽出します。
そこからER図（Mermaid記法）やJSONスキーマを提案させ、データの整合性を確認します。

### 2. APIインターフェースの定義
`mock.html` におけるユーザーのアクション（保存ボタンクリック、検索実行など）をトリガーとして、必要なAPIエンドポイントを洗い出します。

*   **Input**: `mock.html` のソースコード、ユーザーアクションのリスト
*   **Output**: Swagger/OpenAPI形式の定義、またはAPI仕様書（Markdown）
    *   エンドポイント（URL）
    *   HTTPメソッド（GET/POST/PUT/DELETE）
    *   リクエストパラメータ
    *   レスポンスボディ

### 3. インフラ構成の検討
アプリケーションの要件に合わせて、最適なインフラ構成案（クラウドサービスの選定）をAIと壁打ちして決定します。
Dockerコンテナ構成や、サーバーレスアーキテクチャの提案などをAIに行わせます。

## メリット

*   **UIとAPIの不整合防止**: 「画面で必要なデータがAPIに含まれていない」といったミスを防げます。
*   **ドキュメント作成の自動化**: 面倒なAPI仕様書やER図の作成をAIに任せられます。
*   **パラレル開発**: API仕様が早期に確定するため、フロントエンドとバックエンドが同時に開発を進められます（フロントはMockサーバーを利用、バックは仕様通りに実装）。
